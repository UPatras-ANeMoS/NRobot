# NRobot src CMakeLists ########################################################

########## Create nrobot library ##########
# Include headers
INCLUDE_DIRECTORIES(NRBase)
INCLUDE_DIRECTORIES(NRPart)
INCLUDE_DIRECTORIES(NRPlot)
INCLUDE_DIRECTORIES(NRobot)

# Source files to compile
SET(NRBASE_SRC "NRBase/NRBase.cpp")
SET(NRPART_SRC "NRPart/clipper.cpp" "NRPart/NRClip.cpp" "NRPart/NRPart.cpp")
SET(NROBOT_SRC "")
IF(NR_PLOT_AVAILABLE)
    SET(NRPLOT_SRC "NRPlot/NRPlot.cpp")
ENDIF(NR_PLOT_AVAILABLE)

# Create static library
ADD_LIBRARY(nrobot STATIC ${NRBASE_SRC} ${NRPART_SRC} ${NROBOT_SRC} ${NRPLOT_SRC})
SET_TARGET_PROPERTIES(nrobot PROPERTIES OUTPUT_NAME nrobot${BUILD_POSTFIX})



########## Create testing executables ##########
ADD_EXECUTABLE(NRBASE_TEST "Tests/TEST_NRBase.cpp")
TARGET_LINK_LIBRARIES(NRBASE_TEST nrobot ${SDL2_LIBRARIES})
SET_TARGET_PROPERTIES(NRBASE_TEST PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/bin)
SET_TARGET_PROPERTIES(NRBASE_TEST PROPERTIES OUTPUT_NAME nrbasetest${BUILD_POSTFIX})

ADD_EXECUTABLE(NRPLOT_TEST "Tests/TEST_NRPlot.cpp")
TARGET_LINK_LIBRARIES(NRPLOT_TEST nrobot ${SDL2_LIBRARIES})
SET_TARGET_PROPERTIES(NRPLOT_TEST PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/bin)
SET_TARGET_PROPERTIES(NRPLOT_TEST PROPERTIES OUTPUT_NAME nrplottest${BUILD_POSTFIX})
